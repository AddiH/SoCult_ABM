---
title: "Pseudocode"
author: "Astrid Elmann Hansen"
date: '2022-06-08'
output: html_document
editor_options: 
  markdown: 
    wrap: 72
---

```{r}
pacman::p_load(tidyverse)
source("dates.R")
```


# Pure interdependence theory

All agents are connected

Friendships don't deteriorate

Agents can't be alone

cl_sat and cl_alt traits are constant pr. agent and independent of dyads

dep = sum (outcome – cl_alt) / ticks_spent_tog

sat = sum (outcome – cl_sat) / ticks_spent_tog
    
ka, kp and kj are constant and identical for all agents

ka = 2
kp = 2
kj = 0

All agents opt to choose OwnMax in matrices

Joint control = 1

Uden intercept

if dep = positive
  ac = ka/dep
  pc = dep/kp
  
if dep = negative
  ac = dep/ka
  pc = kp/dep


> When sorting for higest sat - what if two are similar? How do we sort?

```{r values setup}
N <- 100 # number of agents
initial_dep <- 0.1 # the dependence value all dyads start with
initial_sat <- 0.1 # the satisfaction value all dyads start with

```


```{r tibble setup}

sat <- sample(1:10, N^2, replace = TRUE) # for testing

dyads <- tibble(agent_1 = as.numeric(rep(1:N, each=N)), # create df with dyads and inital values
                agent_2 = as.numeric(rep(seq(1:N),N)),
                sat = sat,
                #sat = as.numeric(rep(initial_sat,N^2)),
                dep = as.numeric(rep(initial_dep,N^2)))
  
dyads <- dyads %>% filter(agent_1 != agent_2) # Remove dyads with the same agent twice

```


```{r}

```


```{r}
# Hangout phase
for each dyad
  # generate matrix (a1b1, a2b1, a1b2, a2b2)
  for each agent
    a1b1 <- ac + pc + kj
    a2b1 <- ac + pc + kj
    a1b2 <- ac + pc + kj
    a2b2 <- ac + pc + kj
    
    choice <- higest()
  
```

---
title: "viz_dyads"
author: "Astrid Elmann Hansen"
date: '2022-08-03'
output: html_document
---

```{r ignore}
pacman::p_load(tidyverse)
```

```{r ignore}
x <- "tick_no"
path <- c("sat", "dep", "commit", "cl_alt","cl_sat", "ticks_tog")  
point <- c("outcome", "out_sat", "out_dep", "ac", "pc", "jc", "LOD", "COI", "BOD", "MOD")
```


```{r ignore}
# agents to look at
A <- 8
B <- 6
```


```{r ignore}
file_com <- "logfiles/500_ticks_10_agents_commit_probinvite_dynamic_10.csv"

df_com <- read_csv(file_com, # loading file with correct classes
               col_types = list(
                 agent_1 = "f",
                 agent_2 = "f",
                 tick_no = "i",
                 ticks_tog = "i"
               ))

theory <- "Investment"
```


```{r ignore}
N <- length(unique(df$agent_1))
ticks <- max(df$tick_no)
```


```{r individual}
dyad_com <- df_com %>% filter(agent_1 == A) # find info for relevant dyad
color <- "agent_2"

for (y in path){
plot <- dyad_com %>%
  ggplot(aes(x = .data[[x]], y = .data[[y]], color = .data[[color]])) +
  geom_path() +
  labs(title = theory,
        x ="Time", 
        y = y,
        color = color,
        subtitle = "Line marks a date") +
  theme(plot.subtitle = element_text(color = "grey")) +
  theme(panel.grid.major = element_blank(), 
        panel.grid.minor = element_blank(),
        panel.background = element_blank(), 
        axis.line = element_line(colour = "black"))
print(plot)
}

for (y in point){
plot <- dyad_com %>%
  filter(date == T) %>% 
  ggplot(aes(x = .data[[x]], y = .data[[y]], color = .data[[color]])) +
  geom_point() +
  labs(title = theory,
        x ="Time", 
        y = y,
        color = color,
        subtitle = "Line marks a date") +
  theme(plot.subtitle = element_text(color = "grey")) +
  theme(panel.grid.major = element_blank(), 
        panel.grid.minor = element_blank(),
        panel.background = element_blank(), 
        axis.line = element_line(colour = "black"))
print(plot)
}
```


##############################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################


```{r edit}
file_sat <- "logfiles/500_ticks_10_agents_sat_probinvite_dynamic_10.csv"

df_sat <- read_csv(file_sat, # loading file_sat with correct classes
               col_types = list(
                 agent_1 = "f",
                 agent_2 = "f",
                 tick_no = "i",
                 ticks_tog = "i"
               ))

theory <- "Interdependence"
```


```{r individual}
dyad_sat <- df_sat %>% filter(agent_1 == A) # find info for relevant dyad
color <- "agent_2"

for (y in path){
plot <- dyad_sat %>%
  ggplot(aes(x = .data[[x]], y = .data[[y]], color = .data[[color]])) +
  geom_path() +
  labs(title = theory,
        x ="Time", 
        y = y,
        color = color,
        subtitle = "Line marks a date") +
  theme(plot.subtitle = element_text(color = "grey")) +
  theme(panel.grid.major = element_blank(), 
        panel.grid.minor = element_blank(),
        panel.background = element_blank(), 
        axis.line = element_line(colour = "black"))
print(plot)
}

for (y in point){
plot <- dyad_sat %>%
  filter(date == T) %>% 
  ggplot(aes(x = .data[[x]], y = .data[[y]], color = .data[[color]])) +
  geom_point() +
  labs(title = theory,
        x ="Time", 
        y = y,
        color = color,
        subtitle = "Line marks a date") +
  theme(plot.subtitle = element_text(color = "grey")) +
  theme(panel.grid.major = element_blank(), 
        panel.grid.minor = element_blank(),
        panel.background = element_blank(), 
        axis.line = element_line(colour = "black"))
print(plot)
}
```
